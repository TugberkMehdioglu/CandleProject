@model LoginViewModel

@{
    ViewData["Title"] = "Login";
}

@if (TempData["success"] != null)
{
    <div class="container col-lg-4 offset-lg-4 col-sm-12">
        <partial name="_AlertSuccessPartial" model=@(TempData["success"]!.ToString())></partial>
    </div>
}


<div asp-validation-summary="ModelOnly" class="alert alert-danger col-lg-4 offset-lg-4 col-sm-12" style="" padding:20px; border-radius:10px;box-shadow:0 0 10px rgba(0, 0, 0, 0.1);"></div>

<div class="container col-lg-4 offset-lg-4 col-sm-12 " style="padding:20px; border-radius:10px; background-color:rgb(128, 208, 199); box-shadow:0 0 10px rgba(0, 0, 0, 0.1);">
    
    <div class="row">

        <h1 class="text-center text-white">Giriş Yap</h1>

        <form method="post" class="col-12">

            <div class="mb-3">
                <label class="form-label text-white" for="Email" asp-for="Email">Email</label>
                <input class="form-control" id="Email" placeholder="ornek@gmail.com" asp-for="Email" />
                <span asp-validation-for="Email" class="text-danger" style="font-weight:bold;"></span>
            </div>

            <div class="mb-3" style="position: relative;">
                <div class="d-flex justify-content-between">
                    <label class="form-label text-white" asp-for="Password">Şifre</label>
                </div>
                <div class="input-group">
                    <input class="form-control" id="Password" placeholder="***" asp-for="Password" />
                    <button class="btn btn-outline-light" type="button" style="" id="togglePassword" onclick="togglePasswordVisibility()">
                        <i id="eyeIcon" class="bi bi-eye"></i>
                    </button>
                </div>
                <span asp-validation-for="Password" class="text-danger" style="font-weight:bold;"></span>
            </div>

            <div class="row" style="justify-content:space-between;">
                <div class="col-auto">
                    <div class="form-check mb-0">
                        <input class="form-check-input" type="checkbox" asp-for="RememberMe" />
                        <label class="form-check-label mb-0 text-white" asp-for="RememberMe">Beni hatırla</label>
                        <span asp-validation-for="RememberMe" class="text-danger"></span>
                    </div>
                </div>
                <div class="col-auto "><a class="fs--1 text-white" asp-controller="Home" asp-action="ForgetPassword">Şifremi Unuttum</a></div>
            </div>
            <div class="mb-3 w-50 mx-auto text-center">
                <button class="btn btn-outline-light w-100 mt-3" style="border-radius:20px;" type="submit">Giriş Yap</button>
            </div>

        </form>

    </div>
</div>


@section Scripts{

    <partial name="_ValidationScriptsPartial"></partial>

    <script>

        function togglePasswordVisibility() {
            const passwordInput = document.getElementById("Password");
            const eyeIcon = document.getElementById("eyeIcon");

            if (passwordInput.type === "password") {
                passwordInput.type = "text";
                eyeIcon.classList.remove("bi-eye");
                eyeIcon.classList.add("bi-eye-slash");
            } else {
                passwordInput.type = "password";
                eyeIcon.classList.remove("bi-eye-slash");
                eyeIcon.classList.add("bi-eye");
            }
        };

    </script>
}